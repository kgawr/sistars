// lang-switcher.js
// Full-site translations (pl default). Keys match data-i18n attributes.
(function(){
  const translations = {
    pl: {
      "meta.title": "Sistars",
      "header.parallaxTitle": "Witamy w Sistars!",
      "nav.offer": "Oferta",
      "nav.school": "Szkoła",
      "nav.news": "Projekty",
      "nav.about": "O nas",
      "nav.gallery": "Galeria",
      "nav.contact": "Kontakt",
      "main.h1": "Witamy w <span class=\"sis\">Sistars !</span>",
      "main.sub": "Centrum Edukacyjne prowadzone z pasją",
      "main.lead": "Jesteśmy rodzinnym Centrum Edukacyjnym — trzy siostry, które tworzą atmosferę \"jak w domu\". Współpracujemy z native speakerami z różnych krajów.",
      "main.readMore": "Czytaj więcej",
      "offer.header": "Co oferujemy?",
      "offer.sub2": "",
      "offer.list": "<i class=\"fa fa-arrow-right\"></i> Zajęcia grupowe do 5 osób!<br><i class=\"fa fa-arrow-right\"></i> Angielski i hiszpański<br><i class=\"fa fa-arrow-right\"></i> Zajęcia teatralne<br><i class=\"fa fa-arrow-right\"></i> Śpiew po angielsku i polsku<br><i class=\"fa fa-arrow-right\"></i> Joga po angielsku<br>",
      "offer.audience": "- dla przedszkolaków (od 1-5 lat)<br>- dla uczniów szkół podstawowych<br>- przygotowanie do egzaminu ósmoklasisty<br>- zajęcia dla licealistów<br>- przygotowanie do matury<br>- przygotowanie do egzaminów FCE/CAE<br>- zajęcia dla dorosłych i firm",
      "school.title": "Co wyróżnia naszą szkołę?",
      "school.feature1.title": "Wiedza",
      "school.feature1.text": "Wierzymy, że nauka to podróż na całe życie. Trzy z nas ukończyły studia filologiczne oraz studia podyplomowe, posiadamy również tytuły z filologii hiszpańskiej, studiów politycznych, edukacji muzycznej czy aktorstwa — cały czas się dokształcamy, by dawać najwyższy poziom nauczania.",
      "school.feature2.title": "Doświadczenie",
      "school.feature2.text": "Ponad dekada pracy w nauczaniu — zarówno w szkołach publicznych, jak i prywatnych. Przygotowujemy do egzaminów międzynarodowych i krajowych oraz stosujemy nowoczesne metody nauczania.",
      "school.feature3.title": "Atmosfera",
      "school.feature3.text": "Nasza szkoła działa w domu rodzinnym — dbamy o komfort, bezpieczeństwo oraz dobre relacje między nauczycielem a uczniem.",
      "news.header": "Nasze projekty",
      "news.drama.title": "Teatr / Drama",
      "news.drama.text": "Oferujemy \"dniowe obozy językowe\", podczas których uczymy angielskiego przez teatr. Dzieci tworzą własne scenariusze i prezentują występ na zakończenie.",
      "news.drama.details": "Koszt kursu: 160 Euro<br><br>Harmonogram:<br>lekcja 1: 8:30–10:00<br>lekcja 2: 10:15–11:30<br>lekcja 3: 11:45–13:00<br><br>Czas trwania: pon.–pt.<br><br>Terminy obozów: 26.06.2023–30.06.2023, 21.08.2023–25.08.2023, 04.09.2023–08.09.2023",
      "news.euroweek.title": "Euroweek",
      "news.euroweek.text": "Euroweek to Szkoła Liderów — uczestnicy spotykają wolontariuszy z całego świata, poprawiają angielski, umiejętności publicznego przemawiania oraz poznają tańce i kulturę innych krajów.",
      "news.salisbury.title": "Earth Camp w Salisbury",
      "news.salisbury.text": "Każdego lata rozwijamy warsztat nauczycielski podczas szkolenia w Salisbury w czasie międzynarodowego obozu — zapraszamy chętnych uczniów i opiekunów.",
      "parallax2.title": "Założone w 2017",
      "about.title": "Poznaj siostry",
      "about.daria.short": "\"Kobieta wielu talentów\", tancerka, solistka, skrzypaczka. Ukończyła studia: filologia angielska z terapią pedagogiczną oraz filologia hiszpańska.",
      "about.daria.more": "Brała udział w wolontariacie podczas EURO 2012, organizuje konkursy piosenki w szkołach, prowadzi kursy taneczne i warsztaty wokalne. Gra na skrzypcach i podróżuje w celu poszerzania doświadczeń.",
      "about.marta.short": "Kobieta z wizją, solistka, pianistka. Ukończyła filologię angielską z terapią pedagogiczną oraz filologię hiszpańską.",
      "about.marta.more": "W 2020 ukończyła filologię hiszpańską z specjalizacją pedagogiczną. Prowadziła zajęcia wokalne w Hiszpanii i realizowała wymiany studenckie.",
      "about.mirela.short": "Wiolonczelistka, solistka, poetka. Ukończyła studia na Middlesex University (International Relations, TESOL) oraz studia pedagogiczne.",
      "about.mirela.more": "Ukończyła kursy w Cambridge, szkołę aktorską Aktorstudio i prowadziła zajęcia dla różnych grup wiekowych w Polsce, Hiszpanii i Anglii.",
      "about.readMore": "Czytaj więcej",
      "gallery.title": "Galeria",
      "gallery.slide1": "Pokaz świąteczny",
      "gallery.slide2": "Obóz Euroweek",
      "contact.title": "Dane kontaktowe",
      "contact.phoneTitle": "Telefon",
      "contact.addressTitle": "Adres",
      "contact.socialTitle": "Media społecznościowe",
      "footer.follow": "Śledź nas na:",
      "footer.seeyou": "Do zobaczenia w",
      "footer.tagline": "Twoje Centrum Edukacyjne."
    },
    en: {
      "meta.title": "Sistars",
      "header.parallaxTitle": "Welcome to Sistars!",
      "nav.offer": "Offer",
      "nav.school": "School",
      "nav.news": "Projects",
      "nav.about": "About",
      "nav.gallery": "Gallery",
      "nav.contact": "Contact",
      "main.h1": "Welcome to <span class=\"sis\">Sistars !</span>",
      "main.sub": "The Educational Centre run with passion",
      "main.lead": "We are a family-run Educational Centre — three sisters creating a homely atmosphere for students. We work with native speakers from different countries.",
      "main.readMore": "Read More",
      "offer.header": "What do we offer?",
      "offer.sub2": "",
      "offer.list": "<i class=\"fa fa-arrow-right\"></i> Group lessons up to 5 people!<br><i class=\"fa fa-arrow-right\"></i> English and Spanish<br><i class=\"fa fa-arrow-right\"></i> Drama Lessons<br><i class=\"fa fa-arrow-right\"></i> Singing in English and Polish<br><i class=\"fa fa-arrow-right\"></i> Yoga in English<br>",
      "offer.audience": "- for preschoolers (from age 1-5)<br>- and primary schoolers<br>- primary school final English exam preparation<br>- lessons for highschoolers<br>- Matura exam preparation<br>- FCE/CAE exams preparation<br>- for adults and companies",
      "school.title": "What makes our school special?",
      "school.feature1.title": "Knowledge",
      "school.feature1.text": "We believe learning is a life-long journey. Three of us hold MA degrees in English Philology and PGCE; we also hold BA degrees in Spanish Philology, political studies, music education and acting, and we keep learning through courses.",
      "school.feature2.title": "Experience",
      "school.feature2.text": "Over a decade of teaching experience in Poland and abroad — preparing students for national and international exams and using modern methods of teaching.",
      "school.feature3.title": "Atmosphere",
      "school.feature3.text": "Our school is based in our family home and we prioritise students' comfort and wellbeing.",
      "news.header": "Our projects",
      "news.drama.title": "Drama",
      "news.drama.text": "We offer daily English camps where we teach English through theatre. Children create scripts and perform at the end of the course.",
      "news.drama.details": "Course cost: 160 Euros<br><br>Schedule:<br>first lesson: 8:30–10:00<br>second lesson: 10:15–11:30<br>third lesson: 11:45–13:00<br><br>Duration: Mon–Fri<br><br>Camp dates: 26.06.2023–30.06.2023, 21.08.2023–25.08.2023, 04.09.2023–08.09.2023",
      "news.euroweek.title": "Euroweek",
      "news.euroweek.text": "Euroweek is a School of Leaders where participants meet volunteers worldwide, improve English and public speaking, and learn cultural dances and traditions.",
      "news.salisbury.title": "Earth Camp in Salisbury",
      "news.salisbury.text": "Every year we enhance our teaching skills during teacher training in Salisbury at a summer camp — students and guardians are welcome to join.",
      "parallax2.title": "Established in 2017",
      "about.title": "Meet the sisters",
      "about.daria.short": "\"A woman of many talents\", dancer, soloist, violinist. She completed BA studies in English Philology with Pedagogical Therapy and BA in Spanish Philology.",
      "about.daria.more": "She volunteered at EURO 2012, organises song contests, leads dance courses and participates in vocal workshops across Poland. She plays violin and travels often to English-speaking countries.",
      "about.marta.short": "A woman with a vision, soloist, pianist. She completed BA studies in English Philology with Pedagogical Therapy and Spanish Philology.",
      "about.marta.more": "In 2020 she finished Spanish Philology with teaching specialization and led vocal classes in Andalusia, Spain. She organises competitions and enjoys interior design.",
      "about.mirela.short": "Cellist, soloist, poet. She completed BA in International Relations (Middlesex University) and MSc in TESOL (Middlesex University) and pedagogical studies.",
      "about.mirela.more": "She completed courses at Cambridge, graduated from Aktorstudio in Warsaw and led vocal/theatre courses in Spain and England.",
      "about.readMore": "Read more",
      "gallery.title": "Gallery",
      "gallery.slide1": "Christmas Show",
      "gallery.slide2": "Euro Week Camp",
      "contact.title": "Contact info",
      "contact.phoneTitle": "Phone",
      "contact.addressTitle": "Address",
      "contact.socialTitle": "Social media",
      "footer.follow": "For more news follow us on",
      "footer.seeyou": "See you soon at",
      "footer.tagline": "Your Educational Centre."
    },
    it: {
      "meta.title": "Sistars",
      "header.parallaxTitle": "Benvenuti a Sistars!",
      "nav.offer": "Offerta",
      "nav.school": "Scuola",
      "nav.news": "Progetti",
      "nav.about": "Chi siamo",
      "nav.gallery": "Galleria",
      "nav.contact": "Contatto",
      "main.h1": "Benvenuti a <span class=\"sis\">Sistars !</span>",
      "main.sub": "Centro educativo gestito con passione",
      "main.lead": "Siamo un centro educativo a gestione familiare — tre sorelle che creano un'atmosfera accogliente. Collaboriamo con madrelingua di diversi paesi.",
      "main.readMore": "Leggi di più",
      "offer.header": "Cosa offriamo?",
      "offer.sub2": "",
      "offer.list": "<i class=\"fa fa-arrow-right\"></i> Lezioni di gruppo fino a 5 persone!<br><i class=\"fa fa-arrow-right\"></i> Inglese e Spagnolo<br><i class=\"fa fa-arrow-right\"></i> Lezioni di teatro<br><i class=\"fa fa-arrow-right\"></i> Canto in inglese e polacco<br><i class=\"fa fa-arrow-right\"></i> Yoga in inglese<br>",
      "offer.audience": "- per i più piccoli (da 1 a 5 anni)<br>- e per le scuole primarie<br>- preparazione all'esame finale della scuola primaria<br>- lezioni per liceali<br>- preparazione alla Matura<br>- preparazione agli esami FCE/CAE<br>- per adulti e aziende",
      "school.title": "Cosa rende speciale la nostra scuola?",
      "school.feature1.title": "Conoscenza",
      "school.feature1.text": "Crediamo che l'apprendimento sia un viaggio per tutta la vita. Tre di noi hanno conseguito lauree e specializzazioni in filologia e continuiamo a formarci per offrire il miglior insegnamento.",
      "school.feature2.title": "Esperienza",
      "school.feature2.text": "Oltre un decennio di esperienza nell'insegnamento, in Polonia e all'estero, preparando studenti a esami nazionali e internazionali.",
      "school.feature3.title": "Atmosfera",
      "school.feature3.text": "La nostra scuola si trova nella casa di famiglia — curiamo il comfort e il benessere degli studenti.",
      "news.header": "I nostri progetti",
      "news.drama.title": "Drama",
      "news.drama.text": "Offriamo campi giornalieri in inglese dove insegniamo attraverso il teatro. I bambini creano copioni e si esibiscono alla fine.",
      "news.drama.details": "Costo del corso: 160 Euro<br><br>Orario:<br>lezione 1: 8:30–10:00<br>lezione 2: 10:15–11:30<br>lezione 3: 11:45–13:00<br><br>Durata: Lun–Ven<br><br>Date: 26.06.2023–30.06.2023, 21.08.2023–25.08.2023, 04.09.2023–08.09.2023",
      "news.euroweek.title": "Euroweek",
      "news.euroweek.text": "Euroweek è una Scuola di Leader — partecipanti incontrano volontari internazionali, migliorano l'inglese e imparano danze e tradizioni culturali.",
      "news.salisbury.title": "Earth Camp a Salisbury",
      "news.salisbury.text": "Ogni estate miglioriamo le competenze dell'insegnamento con training a Salisbury durante il campo estivo — studenti e accompagnatori sono i benvenuti.",
      "parallax2.title": "Fondato nel 2017",
      "about.title": "Incontra le sorelle",
      "about.daria.short": "\"Una donna dai molti talenti\", ballerina, solista, violinista. Ha completato studi in filologia inglese con terapia pedagogica e filologia spagnola.",
      "about.daria.more": "Ha fatto volontariato durante EURO 2012, organizza concorsi canori, tiene corsi di danza e workshop vocali in Polonia. Suona il violino e viaggia spesso.",
      "about.marta.short": "Donna con una visione, solista, pianista.",
      "about.marta.more": "Nel 2020 ha conseguito filologia spagnola con specializzazione e ha condotto corsi vocali in Andalusia.",
      "about.mirela.short": "Violoncellista, solista, poetessa. Laureata in International Relations e TESOL.",
      "about.mirela.more": "Ha seguito corsi a Cambridge, si è diplomata ad Aktorstudio a Varsavia e ha condotto corsi in Spagna e Inghilterra.",
      "about.readMore": "Leggi di più",
      "gallery.title": "Galleria",
      "gallery.slide1": "Spettacolo di Natale",
      "gallery.slide2": "Campo Euroweek",
      "contact.title": "Contatti",
      "contact.phoneTitle": "Telefono",
      "contact.addressTitle": "Indirizzo",
      "contact.socialTitle": "Social media",
      "footer.follow": "Per altre notizie seguiteci su",
      "footer.seeyou": "Ci vediamo a",
      "footer.tagline": "Il vostro Centro Educativo."
    },
    es: {
      "meta.title": "Sistars",
      "header.parallaxTitle": "¡Bienvenidos a Sistars!",
      "nav.offer": "Oferta",
      "nav.school": "Escuela",
      "nav.news": "Proyectos",
      "nav.about": "Sobre nosotros",
      "nav.gallery": "Galería",
      "nav.contact": "Contacto",
      "main.h1": "¡Bienvenidos a <span class=\"sis\">Sistars !</span>",
      "main.sub": "Centro educativo dirigido con pasión",
      "main.lead": "Somos un centro educativo familiar — tres hermanas que crean un ambiente acogedor. Colaboramos con hablantes nativos de distintos países.",
      "main.readMore": "Leer más",
      "offer.header": "¿Qué ofrecemos?",
      "offer.sub2": "",
      "offer.list": "<i class=\"fa fa-arrow-right\"></i> Clases grupales hasta 5 personas!<br><i class=\"fa fa-arrow-right\"></i> Inglés y español<br><i class=\"fa fa-arrow-right\"></i> Clases de teatro<br><i class=\"fa fa-arrow-right\"></i> Canto en inglés y polaco<br><i class=\"fa fa-arrow-right\"></i> Yoga en inglés<br>",
      "offer.audience": "- para preescolares (de 1-5 años)<br>- y alumnos de primaria<br>- preparación para examen final de primaria<br>- clases para secundaria<br>- preparación para la Matura<br>- preparación para FCE/CAE<br>- para adultos y empresas",
      "school.title": "¿Qué hace especial a nuestra escuela?",
      "school.feature1.title": "Conocimiento",
      "school.feature1.text": "Creemos que el aprendizaje es un viaje para toda la vida. Tres de nosotras tenemos títulos en filología y continuamos formándonos para ofrecer enseñanza de calidad.",
      "school.feature2.title": "Experiencia",
      "school.feature2.text": "Más de una década enseñando en Polonia y en el extranjero; preparamos para exámenes nacionales e internacionales y usamos métodos modernos.",
      "school.feature3.title": "Ambiente",
      "school.feature3.text": "Nuestra escuela está en casa de la familia — cuidamos el confort y el bienestar del estudiante.",
      "news.header": "Nuestros proyectos",
      "news.drama.title": "Drama",
      "news.drama.text": "Ofrecemos campamentos diarios en inglés donde enseñamos a través del teatro. Los niños crean guiones y actúan al final del curso.",
      "news.drama.details": "Precio: 160 Euros<br><br>Horario:<br>1ª clase: 8:30–10:00<br>2ª clase: 10:15–11:30<br>3ª clase: 11:45–13:00<br><br>Duración: Lun–Vie<br><br>Fechas: 26.06.2023–30.06.2023, 21.08.2023–25.08.2023, 04.09.2023–08.09.2023",
      "news.euroweek.title": "Euroweek",
      "news.euroweek.text": "Euroweek es una Escuela de Líderes donde los participantes conocen voluntarios internacionales, mejoran inglés y oratoria y aprenden danzas y culturas.",
      "news.salisbury.title": "Earth Camp en Salisbury",
      "news.salisbury.text": "Cada verano mejoramos nuestras habilidades docentes con formación en Salisbury durante el campamento de verano — alumnos y acompañantes pueden participar.",
      "parallax2.title": "Fundado en 2017",
      "about.title": "Conoce a las hermanas",
      "about.daria.short": "\"Una mujer de muchos talentos\", bailarina, solista, violinista. Ha completado estudios en filología inglesa y filología española.",
      "about.daria.more": "Participó como voluntaria en EURO 2012, organiza concursos de canciones, imparte cursos de baile y talleres vocales en Polonia. Toca el violín y viaja con frecuencia.",
      "about.marta.short": "Mujer con visión, solista, pianista.",
      "about.marta.more": "En 2020 finalizó filología española con especialización docente y dirigió clases vocales en Andalucía.",
      "about.mirela.short": "Violonchelista, solista, poeta. Titulada en International Relations y TESOL.",
      "about.mirela.more": "Ha cursado estudios en Cambridge, se graduó en Aktorstudio en Varsovia y ha impartido cursos en España e Inglaterra.",
      "about.readMore": "Leer más",
      "gallery.title": "Galería",
      "gallery.slide1": "Espectáculo de Navidad",
      "gallery.slide2": "Campamento Euroweek",
      "contact.title": "Información de contacto",
      "contact.phoneTitle": "Teléfono",
      "contact.addressTitle": "Dirección",
      "contact.socialTitle": "Redes sociales",
      "footer.follow": "Para más noticias síguenos en",
      "footer.seeyou": "Te esperamos en",
      "footer.tagline": "Tu Centro Educativo."
    }
  }; // end translations

  // Utilities
  function getSavedLang(){
    return localStorage.getItem('siteLang') || null;
  }
  function saveLang(lang){
    localStorage.setItem('siteLang', lang);
  }

  function detectBrowserLang(){
    const nav = navigator.languages && navigator.languages.length
      ? navigator.languages
      : [navigator.language || navigator.userLanguage];
    for (let n of nav) {
      if (!n) continue;
      const prefix = n.slice(0,2).toLowerCase();
      if (['pl','en','it','es'].includes(prefix)) return prefix;
    }
    return 'pl';
  }

  function applyTranslations(lang){
    if (!translations[lang]) lang = 'pl';
    document.documentElement.lang = lang;
    const metaTitle = translations[lang]['meta.title'];
    if (metaTitle) document.title = metaTitle;

    document.querySelectorAll('[data-i18n]').forEach(el => {
      const key = el.getAttribute('data-i18n');
      const text = translations[lang][key];
      if (typeof text === 'undefined') return;
      el.innerHTML = text;
    });
  }

  // Set language programmatically (for dropdown & persistence)
  window.setLanguage = function(lang){
    applyTranslations(lang);
    saveLang(lang);
    const selector = document.getElementById('languageSelect');
    if (selector) selector.value = lang;
  };

  // Initialization
  document.addEventListener('DOMContentLoaded', () => {
    const saved = getSavedLang();
    const initial = saved || detectBrowserLang() || 'pl';
    applyTranslations(initial);

    // --- handle dropdown selection ---
    const selector = document.getElementById('languageSelect');
    if (selector) {
      selector.value = initial;
      selector.addEventListener('change', (e) => {
        const selectedLang = e.target.value;
        setLanguage(selectedLang);
      });
    }
  });
})();

